{% extends "layout.html" %}

{% block content %}

<!-- ======= Breadcrumbs ======= -->
<section class="breadcrumbs">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center">
      <h2>Registro de Alumnos</h2>
    </div>
  </div>
</section><!-- End Breadcrumbs -->

<section class="inner-page pt-4">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-6">
        <form method="POST" action="{{ url_for('signup') }}" class="php-email-form bg-light p-4 border rounded">
          <div class="form-group mt-3">
            <label for="nombre">Nombre</label>
            <input type="text" class="form-control" name="nombre" id="nombre" placeholder="Ingresa tu nombre" required>
          </div>
          <div class="form-group mt-3">
            <label for="apellidos">Apellidos</label>
            <input type="text" class="form-control" name="apellidos" id="apellidos" placeholder="Ingresa tus apellidos" required>
          </div>
          <div class="form-group mt-3">
            <label for="dni">DNI</label>
            <input type="text" class="form-control" name="dni" id="dni" placeholder="Ingresa tu DNI">
          </div>
          <div class="form-group mt-3">
            <label for="municipio">Municipio</label>
            <input type="text" class="form-control" name="municipio" id="municipio" placeholder="Ingresa tu municipio">
          </div>
          <div class="form-group mt-3">
            <label for="email">Correo Electrónico</label>
            <input type="email" class="form-control" name="email" id="email" placeholder="Ingresa tu correo electrónico" required>
          </div>
          <div class="form-group mt-3">
            <label for="password">Contraseña</label>
            <input type="password" class="form-control" name="password" id="password" placeholder="Crea una contraseña" required>
          </div>
          <!-- Flash messages para retroalimentación -->
          <div class="my-3">
            {% with messages = get_flashed_messages() %}
              {% if messages %}
                <div class="alert alert-warning">
                  {{ messages[0] }}
                </div>
              {% endif %}
            {% endwith %}
          </div>
          <!-- Selector de cursos -->
          <div class="form-group mt-3">
            <label for="curso_id">Selecciona un Curso</label>
            <select class="form-control" name="curso_id" id="curso_id">
              <option value="">-- Selecciona un Curso --</option>
              {% for curso in cursos %}
                <option value="{{ curso.id }}">{{ curso.titulo }}</option>
              {% endfor %}
            </select>
          </div>
          <br>
          <!-- Botones de acción -->
          <div class="text-center">
            <button type="submit" class="btn btn-primary">Registrarse</button>
            <a href="{{ url_for('home') }}" class="btn btn-secondary">Cancelar</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

{% endblock %}
